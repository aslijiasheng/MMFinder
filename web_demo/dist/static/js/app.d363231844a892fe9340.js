webpackJsonp([1],{NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),c=a("7t+N"),r=a.n(c),i=function(e,t,a){e="/api"+e,r.a.ajax({type:"GET",url:e,dataType:"json",data:t,async:!0,success:function(e){a(e)},error:function(){a(null)}})},n={name:"SearchView",data:function(){return{image_to_search:"",search_param:"",result_imgs:[],face_to_search:""}},mounted:function(){},methods:{handleAvatarSuccess:function(e,t){console.log(e),e.success?(this.$message({message:"上传成功",type:"success"}),this.search_param=e.filename,this.face_to_search="/api/get_upload_images/face-"+e.filename,this.image_to_search=URL.createObjectURL(t.raw)):(this.search_param="",this.image_to_search="",this.face_to_search="",this.$message.error(e.msg))},searchImage:function(){var e=this;this.result_imgs=[];var t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});i("/search",{filename:this.search_param},function(a){t.close(),console.log(a),a.success?a.data.forEach(function(t){e.result_imgs.push("/api/get_images/"+t)}):e.$message.error(a.msg)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("center",[a("label",{staticStyle:{"line-height":"178px"}},[e._v("点击上传图片：")])])],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"demo-shadow",staticStyle:{padding:"5px","box-shadow":"rgba(0, 0, 0, 0.12) 0px 2px 4px, rgba(0, 0, 0, 0.04) 0px 0px 6px"}},[a("center",[a("div",{staticClass:"grid-content bg-purple"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload_image",name:"file","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.image_to_search?a("img",{staticClass:"avatar",attrs:{src:e.image_to_search}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.face_to_search?a("img",{staticClass:"face_to_search",attrs:{src:e.face_to_search}}):e._e()],1)])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"line-height":"178px"}},[a("center",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchImage}},[e._v("搜索")])],1)],1)])],1),e._v(" "),a("ul",{staticClass:"picC"},[a("li",e._l(e.result_imgs,function(e){return a("img",{attrs:{src:e,alt:""}})}),0)])],1)},staticRenderFns:[]};var l={name:"App",components:{SearchView:a("VU/8")(n,o,!1,function(e){a("xcZZ"),a("uR/v")},"data-v-24519a92",null).exports}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("el-header",[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-menu-item",{attrs:{index:"1"}},[this._v("MMFinder Web Demo")])],1)],1),this._v(" "),t("SearchView")],1)},staticRenderFns:[]};var p=a("VU/8")(l,u,!1,function(e){a("SX0Z")},null,null).exports,h=a("zL8q"),d=a.n(h);a("tvR6");s.default.config.productionTip=!1,s.default.use(d.a),new s.default({el:"#app",components:{App:p},template:"<App/>"})},SX0Z:function(e,t){},tvR6:function(e,t){},"uR/v":function(e,t){},xcZZ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d363231844a892fe9340.js.map